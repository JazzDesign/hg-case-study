(this["webpackJsonpcountry-info"]=this["webpackJsonpcountry-info"]||[]).push([[0],{21:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),i=n(6),a=n.n(i),o=n(7),l=Object(o.b)({name:"filter",initialState:{continent:"all",metric:"all",max:"5"},reducers:{updateContinent:function(t,e){t.continent=e.payload},updateMetric:function(t,e){t.metric=e.payload},updateMax:function(t,e){t.max=e.payload}}}),s=l.actions,u=s.updateContinent,j=s.updateMetric,d=s.updateMax,b=l.reducer,h=Object(o.a)({reducer:{filter:b}}),O=n(2),p=(n(21),n(5)),f=n.n(p),x=n(12),m=n(4),v=(n(23),n(24),n(0));function g(t){var e=t.title,n=t.onClick;return Object(v.jsxs)("div",{className:"header",children:[Object(v.jsx)("h1",{children:e}),Object(v.jsx)("button",{className:"btn",onClick:n,children:"GO"})]})}n(26);var y=function(t){return t.filter.continent},S=function(t){return t.filter.metric},C=function(t){return t.filter.max};function k(t){var e=t.enable,n=t.continents,c=Object(O.b)(),r=Object(O.b)(),i=Object(O.b)(),a=Object(O.c)(y),o=Object(O.c)(S),l=Object(O.c)(C);return Object(v.jsxs)("div",{className:"filters",children:[Object(v.jsx)("h3",{children:"Filters"}),Object(v.jsxs)("select",{value:a,disabled:e,onChange:function(t){c(u(t.target.value))},children:[Object(v.jsx)("option",{value:"all",children:"ALL"}),n.map((function(t){return Object(v.jsx)("option",{value:t,children:t},t)}))]}),Object(v.jsxs)("select",{disabled:e,value:o,onChange:function(t){r(j(t.target.value))},children:[Object(v.jsx)("option",{value:"all",children:"ALL"}),Object(v.jsx)("option",{value:"areaInSqKm",children:"areaInSqKm"}),Object(v.jsx)("option",{value:"population",children:"Population"})]}),Object(v.jsxs)("select",{disabled:e,value:l,onChange:function(t){i(d(t.target.value))},children:[Object(v.jsx)("option",{value:"5",children:"5"}),Object(v.jsx)("option",{value:"10",children:"10"}),Object(v.jsx)("option",{value:"15",children:"15"}),Object(v.jsx)("option",{value:"20",children:"20"})]})]})}var I=n(3),N=n.n(I),w=n(8),q=n.n(w);n(27);function K(t){var e=t.data,n=t.metric,r=t.onOrder,i=Object(c.useState)(!0),a=Object(m.a)(i,2),o=a[0],l=a[1],s=function(t){r(o,t),l(!o)},u=function(t){var n=0;for(var c in e)n+=parseInt(e[c][t]);return n};return Object(v.jsx)("div",{children:Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:Object(v.jsx)("button",{onClick:function(){return s("continent")},children:"Continent Name"})}),Object(v.jsx)("th",{children:Object(v.jsx)("button",{onClick:function(){return s("countryName")},children:"Country Name"})}),"all"===n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("th",{children:Object(v.jsx)("button",{onClick:function(){return s("population")},children:"population"})}),Object(v.jsx)("th",{children:Object(v.jsx)("button",{onClick:function(){return s("areaInSqKm")},children:"areaInSqKm"})})]}):Object(v.jsx)("th",{children:Object(v.jsx)("button",{onClick:function(){return s("".concat(n))},children:n})})]})}),Object(v.jsx)("tbody",{children:e.map((function(t){var e=t.continent,c=t.geonameId,r=t.countryName,i=t.population,a=t.areaInSqKm;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e}),Object(v.jsx)("td",{children:r}),"all"===n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:i}),Object(v.jsx)("td",{children:a})]}):Object(v.jsx)("td",{children:t[n]})]},c)}))}),Object(v.jsx)("tfoot",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{colSpan:"2",children:Object(v.jsx)("strong",{children:"TOTAL"})}),"all"===n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{children:u("population")}),Object(v.jsx)("td",{children:u("areaInSqKm")})]}):Object(v.jsx)("td",{children:u("".concat(n))})]})})]})})}n(28);function F(t){var e=t.data,n=t.continent,c=t.metric,r=t.max,i=t.onOrder,a="all"===n?e:e.filter((function(t){return t.continent===n}));function o(t){var e=a.slice(0,r),n=[];e.map((function(e){return n.push({name:e.countryName,y:parseInt(e[t])}),e}));var c=function(t){var e=a.slice(r,a.length),n=0;for(var c in e)n+=parseInt(e[c][t]);return n}(t);return n.push({name:"Others",y:c}),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Results ".concat(t)},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f} %</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"".concat(t),data:n}]}}return Object(v.jsxs)("div",{className:"results",children:["all"===c?Object(v.jsxs)("div",{className:"chart-container",children:[Object(v.jsx)(q.a,{highcharts:N.a,options:o("population")}),Object(v.jsx)(q.a,{highcharts:N.a,options:o("areaInSqKm")})]}):Object(v.jsx)(q.a,{highcharts:N.a,options:o(c)}),"all"===n?Object(v.jsx)(K,{data:e,metric:c,onOrder:i}):Object(v.jsx)(K,{data:a,metric:c,onOrder:i})]})}var L=function(t){return t.filter.continent},M=function(t){return t.filter.metric},A=function(t){return t.filter.max};var B=function(){var t,e,n=Object(c.useState)([]),r=Object(m.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)(!0),l=Object(m.a)(o,2),s=l[0],u=l[1],j=Object(O.c)(L),d=Object(O.c)(M),b=Object(O.c)(A),h=function(){var t=Object(x.a)(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://api.geonames.org/countryInfoJSON?formatted=true&username=hydrane");case 2:return e=t.sent,n=e.json(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=(t=i,e="continent",t.map((function(t){return t[e]})).map((function(t,e,n){return n.indexOf(t)===e&&e})).filter((function(e){return t[e]})).map((function(e){return t[e]}))).map((function(t){return t.continent}));return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(g,{title:"Frontend Dev CS",onClick:function(t){(function(){var t=Object(x.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:e=t.sent,a(e.geonames);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),u(!1)}}),Object(v.jsx)(k,{enable:s,continents:p}),i.length>0&&Object(v.jsx)(F,{data:i,continent:j,metric:d,max:b,onOrder:function(t,e){var n=i.sort((function(n,c){var r=n[e],i=c[e];return t?r>i:r<i}));a(n)}})]})};a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(O.a,{store:h,children:Object(v.jsx)(B,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.923239b4.chunk.js.map